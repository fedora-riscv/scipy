Index: scipy-0.7.2/scipy/sparse/sparsetools/SConscript
===================================================================
--- scipy-0.7.2.orig/scipy/sparse/sparsetools/SConscript
+++ scipy-0.7.2/scipy/sparse/sparsetools/SConscript
@@ -3,6 +3,7 @@
 from numscons import GetNumpyEnvironment
 
 env = GetNumpyEnvironment(ARGUMENTS)
+env.PrependUnique(CPPDEFINES = '__STDC_FORMAT_MACROS')
 
 for fmt in ['csr','csc','coo','bsr','dia']:
     sources = [ fmt + '_wrap.cxx' ]
Index: scipy-0.7.2/scipy/sparse/sparsetools/setup.py
===================================================================
--- scipy-0.7.2.orig/scipy/sparse/sparsetools/setup.py
+++ scipy-0.7.2/scipy/sparse/sparsetools/setup.py
@@ -8,7 +8,9 @@ def configuration(parent_package='',top_
 
     for fmt in ['csr','csc','coo','bsr','dia']:
         sources = [ fmt + '_wrap.cxx' ]
-        config.add_extension('_' + fmt, sources=sources)
+        config.add_extension('_' + fmt, sources=sources,
+                define_macros=[('__STDC_FORMAT_MACROS', 1)],
+                )
 
     return config
 
